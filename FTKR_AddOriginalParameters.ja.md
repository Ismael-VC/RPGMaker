[トップページに戻る](README.ja.md)

# [FTKR_AddOriginalParameters](FTKR_AddOriginalParameters.js) プラグイン

オリジナルのパラメータを追加するプラグインです。

ダウンロード: [FTKR_AddOriginalParameters.js](https://raw.githubusercontent.com/futokoro/RPGMaker/master/FTKR_AddOriginalParameters.js)

## 目次

以下の項目の順でプラグインの使い方を説明します。
1. [概要](#概要)
* [プラグインの更新履歴](#プラグインの更新履歴)
* [ライセンス](#ライセンス)

## 概要

ダメージの計算式に使用できる、オリジナルのパラメータを追加します。

## オリジナルパラメータの設定

以下のプラグインパラメータを設定することで、ダメージ計算式に使用できるオリジナルのパラメータを、1～10個(*1)まで追加できます。

(*1) プラグインパラメータ`<Use Param Num>`の値を変更することで使用する数を設定できます。

`<Parameter x Code>`

計算式等で使用するコード名を設定します。

`<Parameter x Current>`

計算式等で使用する現在値用コード名を設定します。

`<Parameter x Max>`

パラメータの最大値の設定します。

`<Parameter x Min>`

パラメータの最小値の設定します。
現在値を使用する場合は、必ず 1 以上に設定してください。


## オリジナルパラメータの成長
オリジナルのパラメータに対して、以下のタグを使用することができます。

[アクター、クラス]
```
<AOP Param x Level y Value: z (Rand r)>
<AOP 'code' Level y Value: z (Rand r)>
```
アクターのレベルが y の時のパラメータ x (または'code')の
増加量を z に設定する。
()内を追記した場合、z に対して ±r のランダム値を付加する。
y が 1 の場合は、初期値を意味します。

```
<AOP Param x Level y1 To y2 Value: z (Rand r)>
<AOP 'code' Level y1 To y2 Value: z (Rand r)>
```
アクターのレベルが y1 から y2 までの時のパラメータ x 
(または'code')の増加量を z に設定する。
()内を追記した場合、z に対して ±r のランダム値を付加する。

ランダム値を加算した場合に、増加量は 0 よりも小さな値になることはありません。
アクターとクラスの両方で設定した場合は、その合計値になります。

例) Param 0 の code を str とした場合
```
<AOP Param 0 Level 1 Value: 10>
<AOP str Level 2 To 10 Value: 5 Rand 2>
```
パラメータ 0 (str)に対して、初期値を 10 として、Lv2 から Lv10 の間
レベルアップ毎に、3～7加算する。

## オリジナルパラメータの強化

[武器、防具、ステート]
```
<AOP Param x Plus: y>
<AOP 'code' Plus: y>
```
装備中、またはステート付加中、パラメータ x (または'code')に、
y 加算します。
y に負の数字を入れた場合、減算します。

```
<AOP Param x Rate: y>
<AOP 'code' Rate: y>
```
装備中、またはステート付加中、パラメータ x (または'code')を、
y 倍します。
y に負の数字を入れた場合、正の数と見なして積算します。
Plusで加算した後に、Rateの値で積算します。

```
<AOP Param x Grow: y>
<AOP 'code' Grow: y>
```
装備した状態でレベルが上がると、パラメータ x (または'code')を、
y 加算します。
この値は、装備を外しても有効です。
このタグは、ステートでは使用できません。

## エネミーの設定

[エネミー]
```
<AOP Param x Value: y>
<AOP 'code' Value: y>
```
対象のエネミーのパラメータ x (または'code')を、y に設定します。

## オリジナルパラメータの現在値の増減

[アイテム、スキル]
```
<AOP Param x Get: y(%)>
<AOP 'code' Get: y(%)>
```
アイテムまたはスキルを使用すると、対象者のパラメータ x 
(または'code')の現在値に y 加算します。
y に負の数字を入れた場合、減算します。
y に'%'を付けた場合、パラメータ x (または'code')の最大値の y% 分加算します。

## オリジナルパラメータの用途

### ダメージ計算式

オリジナルパラメータは、ダメージ計算式に使用できます。
使用する場合、ダメージ計算式には、プラグインパラメータで設定した'code'を
記載してください。

例) パラメータ0 の code を str とした場合、以下のように書きます。

```
4(a.atk + a.str) - 2b.def
```

### 装備条件

オリジナルパラメータは、装備条件に使用できます。
以下のタグを使用することで、装備するために必要な条件に、オリジナルパラメータを
使用できます。

 [武器、防具]
```
<AOP Param x Require: y>
```
パラメータ x が、y 以上ないと、装備することができなくなります。

## その他の設定

1. オリジナルパラメータの最大値は、プラグインパラメータ<Max Param>または、
各パラメータの<Parameter x Max>の値の内、大きいほうを適用します。

2. ランダム値は、ゲーム開始時にすべてのレベル帯の上昇量を決定する仕組みです。
そのため、レベルアップをセーブ/ロードしたとしても、値は変わりません。

## スクリプトコマンド

ゲーム内で、オリジナルパラメータの値を取得できます。
以下のスクリプトを使用すると、取得できます。

```
$gameActors._data[x].aopParam(y)
$gameActors._data[x].code
```
アクター x の パラメータ y (または'code')の値を取得します。
'code'は、プラグインパラメータで設定したコード名です。

取得した値は、$gameVariables.setValue()等を使って利用してください。


ゲーム内で、オリジナルパラメータの現在値を操作できます。
以下のスクリプトを使用できます。

```
$gameActors._data[x].setCAop(y, value)
```
アクター x の パラメータ y の現在値を value に変更します。

```
$gameActors._data[x].gainCAop(y, value)
```
アクター x の パラメータ y の現在値を value分加算します。
value が負の値ならば、減算します。

[目次に戻る](#目次)

## プラグインの更新履歴

| バージョン | 公開日 | 更新内容 |
| --- | --- | --- |
| [ver1.1.1](FTKR_AddOriginalParameters.js) | 2017/03/23 | 不具合修正 |
| ver1.0.0 | 2017/02/16 | 初版公開 |

## ライセンス

本プラグインはMITライセンスのもとで公開しています。

[The MIT License (MIT)](https://opensource.org/licenses/mit-license.php)

#
[目次に戻る](#目次)

[トップページに戻る](README.ja.md)