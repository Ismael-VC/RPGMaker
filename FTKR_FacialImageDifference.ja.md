[トップページに戻る](README.md)

# [FTKR_FacialImageDifference](FTKR_FacialImageDifference.js) プラグイン

アクターの状態によって顔画像を変えるプラグインです。

ダウンロード: [FTKR_FacialImageDifference.js](https://raw.githubusercontent.com/futokoro/RPGMaker/master/FTKR_FacialImageDifference.js)

## 目次

以下の項目の順でプラグインの使い方を説明します。
1. [概要](#概要)
2. [プラグインの登録](#プラグインの登録)
2. [基本仕様](#基本仕様)
2. [FTKR_CustomSimpleActorStatusと併用する場合](#FTKR_CustomSimpleActorStatusと併用する場合)
3. [FTKR_CSS_BattleStatusと併用する場合](#FTKR_CSS_BattleStatusと併用する場合)
3. [FTKR_ExSvMotionと併用する場合](#FTKR_ExSvMotionと併用する場合)
* [プラグインの更新履歴](#プラグインの更新履歴)
* [ライセンス](#ライセンス)

## 概要

本プラグインを実装することで、アクターの顔画像に対して以下の機能を追加します。

* 顔画像にアニメーションを表示する。
* アクターの状態や行動によって顔画像を変更する。

なお、本プラグインの機能が有効な顔画像は、`Window_Base.prototype.drawActorFace()`で表示させている場合のみです。

## プラグインの登録

以下のプラグインと組み合わせて使用する場合は。
プラグイン管理画面で、以下の順の配置になるように登録してください。
```
FTKR_CustomSimpleActorStatus.js
FTKR_CSS_***の各プラグインはここに入れること
FTKR_CSS_BattleStatus.js
FTKR_ExSvMotion.js
FTKR_FacialImageDifference.js
```

## 基本仕様

## アクターの顔画像にアニメーションを表示する

通常、フロントビュー戦闘においてアクターが受けたスキルやアイテムはアニメーションやダメージポップアップは表示しません。
ただし、本プラグインの機能により、以下の図のようにアニメーションを表示させることができます。

![画像](image/FTKR_FacialImageDifference/n02_001.png)

プラグインパラメータ`Enable Animation`を有効にすると、本機能を使用できます。

### ！！注意！！
サイドビュー戦闘でこの機能を有効にすると、SVキャラにアニメーションやダメージポップアップが表示しなくなります。本機能はフロントビュー戦闘でのみ使用してください。

## アクターの状態によって顔画像を変更する

本プラグインを単独で使用する場合、アクターの以下の状態によって、メニュー画面やステータス画面等で表示する顔画像が変わります。

* 通常
* 瀕死時
* 状態異常
* 睡眠
* 戦闘不能

なお、デフォルトのプラグインの状態では、すべてのアクターの状態に対して 0番の画像を指定しています。
必要に応じて、プラグインパラメータに値を設定してください。

プラグインパラメータ`Enable Face Difference`を有効にすると、本機能を使用できます。(デフォルトで有効)

### アクターの顔画像について

本プラグインを使用する場合、アクターの顔画像は以下の規格のものを使用してください。

* アクター１人に対して画像ファイルを１つ使用
* 一つの顔画像サイズ：144 * 144
* 一つのファイルには、顔画像を横に６列、縦に３行まで配置できます。
* 顔画像の番号は、左上を 0番、一つ右を 1番、一つ下を 6番と数えます。
  ```
  00 01 02 03 04 05
  06 07 08 09 10 11
  12 13 14 15 16 17
  ```
* 一つの画像ファイルで最大18種類の顔画像を設定できます。

ファイルは、img/face/ フォルダに保存してください。

指定された番号の箇所に、画像がない場合は空欄で表示されますので注意してください。

[目次に戻る](#目次)

## FTKR_CustomSimpleActorStatusと併用する場合

`FTKR_CustomSimpleActorStatus`の設定によって表示する顔画像を変更します。
使用する番号は、基本仕様と同じです。

また、`FTKR_CustomSimpleActorStatus`の拡張プラグインによって、メニュー以外に表示した顔画像についても、同様に変更します。
 * FTKR_CSS_DetailedStatus
 * FTKR_CSS_SkillStatus


### FTKR_CSS_BattleStatusと併用する場合

バトル中のアクターの状態によって、顔画像を変更します。
アクターのアクション時にも、顔画像を変更することができます。

[目次に戻る](#目次)

## FTKR_ExSvMotionと併用する場合

`FTKR_ExSvMotion`の設定によって表示する顔画像を変更します。

`FTKR_ExSvMotion`の設定で、各状態のモーションを変更していた場合は、その設定に合わせて、顔画像も同じモーションの番号に変更します。

また、回復時、およびカスタムモーション時に使用するの顔画像番号を
設定できます。

### 別画像モーション時の画像
別画像モーション時には、アクターのメモ欄で設定した顔画像ファイルを使用します。
アクターのメモ欄に以下のタグを追記してください。

```
<FID_顔画像:filename>
<FID_FACE_IMAGE:filename>
```

画像ファイル filename.png は img/face/ に保存してください。

[目次に戻る](#目次)

## プラグインの更新履歴

| バージョン | 公開日 | 更新内容 |
| --- | --- | --- |
| [ver1.1.0](FTKR_FacialImageDifference.js) | 2017/05/23 | パーティーが全体魔法を受けた時のアニメーション表示位置を調整<br>パーティーが全体魔法を受けた時のダメージポップアップタイミングを調整<br>顔画像の変更機能の有効無効設定を追加 |
| ver1.0.3 | 2017/05/18 | 防御時の顔画像設定用プラグインパラメータの誤記修正 |
| ver1.0.2 | 2017/05/17 | 顔画像の表示レイヤーを、ステータスウィンドウのコンテンツよりも下に変更 |
| ver1.0.1 | 2017/05/11 | フロントビュー戦闘で顔画像が表示しない不具合を修正<br>顔画像にダメージポップアップやアニメーションを表示する機能を追加<br>YEP_BattleEngineCoreに対応(顔画像変更機能のみ) |
| ver1.0.0 | 2017/05/10 | 初版公開 |

## ライセンス

本プラグインはMITライセンスのもとで公開しています。

[The MIT License (MIT)](https://opensource.org/licenses/mit-license.php)

#
[目次に戻る](#目次)

[トップページに戻る](README.md)